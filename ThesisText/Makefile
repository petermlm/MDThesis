# OUTDIR=bin
OUTDIR=.
DOC=thesis_text

OUTPDF=$(OUTDIR)/$(DOC).pdf
PDF=$(DOC).pdf

PDF_ARGS=-file-line-error -halt-on-error -output-directory=$(OUTDIR)
GLS_ARGS=-d $(OUTDIR)

all:
	mkdir -p bin
	echo "==============================================================================="
	echo "== PDF Latex"
	echo "==============================================================================="
	xelatex $(PDF_ARGS) $(DOC)
	echo "==============================================================================="
	echo "== Make Glossaries"
	echo "==============================================================================="
	makeglossaries $(GLS_ARGS) $(DOC)
	echo "==============================================================================="
	echo "== Bib Tex"
	echo "==============================================================================="
	bibtex $(OUTDIR)/$(DOC)
	echo "==============================================================================="
	echo "== PDF Latex"
	echo "==============================================================================="
	xelatex $(PDF_ARGS) $(DOC)
	echo "==============================================================================="
	echo "== PDF Latex"
	echo "==============================================================================="
	xelatex $(PDF_ARGS) $(DOC)
	# mv $(OUTPDF) $(PDF)

clean:
	rm -rf $(OUTDIR)
	rm -f $(PDF)
