\chapter{Statistics, Datasets, and Experiments}

% =============================================================================
\section{Statistics}

This section contains simple statistical analysis done to the data to better
understand it.

\subsection{\texttt{STAT\_001} - Group Courses by Credits}

This experiment plots the number of courses for each possible number of credits
in a bars chart. The results of this was listed in
table~\ref{tab:courses_credits}.

\subsection{\texttt{STAT\_002} - List Domain of Courses Fields}

Gets domain of the fields of courses. Relevant results are listed in some
tables in section~\ref{sec:data_courses}.

\subsection{\texttt{STAT\_003} - Number of Courses per Degree}

A list of courses per degree is computed. This gives an idea of how many
courses there are in a given degree. A list of courses per degree and semester
is also given to give an idea of how the courses are distributed across the two
semesters.

Tables~\ref{tab:stat_003_res_1} and~\ref{tab:stat_003_res_2} show these results.

It should be noticeable that some degrees only have courses in one semester.
The names of the degrees are not available, only their codes. But it is
noticeable that the degree with the greater number of courses is
\texttt{B\_M\_REST\_EINF\_E}, which appears to be an Informatics Master's
Degree.

\begin{table}[h!]
    \centering

    \begin{tabular}{l r}
        Degree                             & CourseCodeMoodle \\ \hline
        \texttt{B\_M\_EHEA (478)}          & 7                \\
        \texttt{B\_M\_REST\_EINF\_E (578)} & 28               \\
        \texttt{B\_M\_REST\_TET (457)}     & 7                \\
        \texttt{B\_PD\_M\_E (580)}         & 8                \\
        \texttt{CCDND\_CPM (344)}          & 1                \\
        \texttt{FC\_CVP\_FDOC (513)}       & 2                \\
        \texttt{FC\_CVP\_UAM (514)}        & 3                \\
        \texttt{FC\_EDM (564)}             & 1                \\
        \texttt{PG\_B\_AE (438)}           & 10               \\
        \texttt{PG\_B\_EGNEG (554)}        & 10               \\
    \end{tabular}

    \caption
        [Number of Courses per Degree]
        {Number of Courses per Degree.}

    \label{tab:stat_003_res_1}
\end{table}

\begin{table}[h!]
    \centering

    \begin{tabular}{l l r}
        Degree                             & Semester       & CourseCodeMoodle \\ \hline
        \texttt{B\_M\_EHEA (478)}          & \textit{Par}   & 3                \\
                                           & \textit{Ímpar} & 4                \\
        \texttt{B\_M\_REST\_EINF\_E (578)} & \textit{Par}   & 14               \\
                                           & \textit{Ímpar} & 14               \\
        \texttt{B\_M\_REST\_TET (457)}     & \textit{Par}   & 2                \\
                                           & \textit{Ímpar} & 5                \\
        \texttt{B\_PD\_M\_E (580)}         & \textit{Par}   & 3                \\
                                           & \textit{Ímpar} & 5                \\
        \texttt{PG\_B\_EGNEG (554)}        & \textit{Par}   & 4                \\
                                           & \textit{Ímpar} & 5                \\
        \texttt{PG\_B\_AE (438)}           & \textit{Par}   & 5                \\
                                           & \textit{Ímpar} & 5                \\
        \texttt{FC\_EDM (564)}             & \textit{Par}   & 1                \\
        \texttt{CCDND\_CPM (344)}          & \textit{Ímpar} & 1                \\
        \texttt{FC\_CVP\_FDOC (513)}       & \textit{Ímpar} & 2                \\
        \texttt{FC\_CVP\_UAM (514)}        & \textit{Ímpar} & 3                \\
    \end{tabular}

    \caption
        [Number of Courses per Degree and Semester]
        {Number of Courses per Degree and Semester.}

    \label{tab:stat_003_res_2}
\end{table}

\subsection{\texttt{STAT\_004} - Plotting Activity of Students over the
Semester}

To look for patterns in the usage of Moodle we look into plotting the activity
of students over the courses over a semester. The six courses with the greatest
number of activities are chosen and for each of them two plots are made.

One plot displays the overall number of~\gls{crud} activities over the semester
and the number of \textbf{C}reate activities, \textbf{R}ead activities, etc.
Figure~\ref{fig:stat_004_all} show these plots for two courses. As it can be
seen, the number of Read activities is far greater then the others, which is to
be expected since to do any other activity, at least a Read activity has to
take place. For example, a student needs to open the Moodle page, and therefore
do a Read, to deliver a project, and therefore do a Create.

It is hypothesis that the number is also greater because students will usually
just read new messages in the Moodle, or consult new materials, without doing
any other activity.

The second plot made to each course is similar, but only the Create, Update,
and Delete activities are plotted. Figure~\ref{fig:stat_004_cud} show two
examples these plots. Notice that the number of creates is not always greater
then the number of updates, and vice-versa. But the number of deletes is always
below creates and updates. This concludes that the delete activity is simply
not that common.

\begin{figure}[h!]
    \centering

    \begin{subfigure}{.5\textwidth}
        \centering
        \includegraphics[width=\linewidth]{../src/stat_004_results/fig_0_CTE-UMCED-2_all}
        \label{subfig:stat_004_0_all}
    \end{subfigure}%
    \begin{subfigure}{.5\textwidth}
        \centering
        \includegraphics[width=\linewidth]{../src/stat_004_results/fig_3_INF7194_2_all}
        \label{subfig:stat_004_3_all}
    \end{subfigure}

    \caption
        [Stat 004 plots for all activities]
        {Stat 004 plots for all activities.}

    \label{fig:stat_004_all}
\end{figure}

\begin{figure}[h!]
    \centering

    \begin{subfigure}{.5\textwidth}
        \centering
        \includegraphics[width=\linewidth]{../src/stat_004_results/fig_0_CTE-UMCED-2_cud}
        \label{subfig:stat_004_0_cud}
    \end{subfigure}%
    \begin{subfigure}{.5\textwidth}
        \centering
        \includegraphics[width=\linewidth]{../src/stat_004_results/fig_3_INF7194_2_cud}
        \label{subfig:stat_004_3_cud}
    \end{subfigure}

    \caption
        [Stat 004 plots for C, U, and D activities]
        {Stat 004 plots for C, U, and D activities.}

    \label{fig:stat_004_cud}
\end{figure}

\subsection{\texttt{STAT\_005} - Total Number of Activities vs Mean of
Activities per Week}

This analysis attempts to understand if the activities of courses remain the
same as the semester goes on. So the mean of the activities per course and week
is plotted, as it is displayed in figure~\ref{fig:stat_005}. The total number
of activities is also plotted in figure~\ref{fig:stat_005}.

It is visible that, although the number of activities drops as the semester
goes on, the mean number of activities stayed relatively the same despite
varying a lot. This is due to the fact that some courses stop being active as
the semester goes on, as it will be shown in section~\ref{sec:stat_006}, but
despite that, the courses that do remain active don't register a drop of
activity as time goes on.

\begin{figure}[h!]
    \centering

    \includegraphics[width=\linewidth]{../src/stat_005_results/plot}

    \caption
        [Total Number of Activities vs Mean of Activities per Week]
        {Total Number of Activities vs Mean of Activities per Week.}

    \label{fig:stat_005}
\end{figure}

\subsection{\texttt{STAT\_006} - Number of Active Courses vs Number of
Activities}
\label{sec:stat_006}

A correlation is found between the total number of activities and the number of
active courses per week. The total number of active courses in a week is
plotted as a bars chart in figure~\ref{fig:stat_006}, along with the total
number of activities.

An course ceases to be active on a given week where it no longer has activities
after that week. For example, suppose a course has activities on weeks, 0, 1,
4, and 8. Then the course is only active until week 8.

The number of activities goes down with the number of active courses, as it
would be expected. But around weeks 30 to 50, it is visible that the number of
activities significantly drops from the number of courses, as opposed to the
first weeks where the numbers are much more similar. This is +probably due to
students incising lack of interest in courses' activities as the semester goes
on, which is normal behaviour.

\begin{figure}[h!]
    \centering

    \includegraphics[width=\linewidth]{../src/stat_006_results/plot}

    \caption
        [Active Courses vs Number of Activities]
        {Active Courses vs Number of Activities.}

    \label{fig:stat_006}
\end{figure}

\subsection{\texttt{STAT\_007} - Number of Students per Course and Number of
Approved Students per Course}

We plot what the title states. The grey bars show the number of students
overall. The blue bars show the number of approved students. Each bar is one
course. Figure~\ref{fig_stat_007} shows the results of this statistics.

\begin{figure}[h!]
    \centering

    \includegraphics[width=\linewidth]{../src/stat_007_results/plot}

    \caption
        [Number of Students per Course and Number of Approved Students per
        Course]
        {Number of Students per Course and Number of Approved Students per
        Course.}

    \label{fig:stat_007}
\end{figure}

% =============================================================================
\section{Datasets}

\subsection{\texttt{DAT\_001} - Students, Courses, Logs, and Results}
\label{sec:dat_001}

This dataset, which features is presented in table~\ref{tar:dat_001}, takes
information from the following datasets:

\begin{itemize}
    \item \texttt{Students}
    \item \texttt{CoursesGeneral}
    \item \texttt{MoodleLogs}
    \item \texttt{Results}
\end{itemize}

Each object of the dataset contains information referencing a single student in
a single course. The objects contain the overall enrollment count and type of
student. It also contain the identification of a course along with the semester
and season of that course. Finally, the object contains a count of CRUD
activities of that student in that course.

The dataset can be generated with different classes. There are three options.
Option one, the classes is a binary features which has the value true if the
student was approved on that course, and false otherwise. Option two, the class
has one of the following values which are intervals of grades:

\begin{itemize}
    \item $ [0, 10[ $
    \item $ [10, 12[ $
    \item $ [12, 14[ $
    \item $ [14, 16[ $
    \item $ [16, 18[ $
    \item $ [18, 20] $
\end{itemize}

Option three, the class has one of the following values:

\begin{itemize}
    \item $ [0, 10[ $
    \item $ [10, 14[ $
    \item $ [14, 18[ $
    \item $ [18, 20] $
\end{itemize}

With option two, we get a dataset which groups every records with grades below
10, but separates the positive grades in groups of two. Option three does the
same but separates grades into groups of four, with the last group having only
three values instead of 4.

\begin{table}[h!]
    \centering

    \begin{tabular}{| l | l | l |}
        \hline
        \textbf{Field}             & \textbf{Source Dataset}    & \textbf{Type} \\ \hline
        \texttt{EnrollementCount}  & Student                    & Number        \\ \hline
        \texttt{StudentType}       & Student                    & Enumerated    \\ \hline
        \texttt{CourseCodeSiiue}   & CoursesGeneral             & String        \\ \hline
        \texttt{Semester}          & CoursesGeneral             & Enumerated    \\ \hline
        \texttt{Season}            & CoursesGeneral             & Enumerated    \\ \hline
        \texttt{TotalActsOnCourse} & Calculated From MoodleLogs & Number        \\ \hline
        \texttt{CActsOnCourse}     & Calculated From MoodleLogs & Number        \\ \hline
        \texttt{RActsOnCourse}     & Calculated From MoodleLogs & Number        \\ \hline
        \texttt{UActsOnCourse}     & Calculated From MoodleLogs & Number        \\ \hline
        \texttt{DActsOnCourse}     & Calculated From MoodleLogs & Number        \\ \hline
        \texttt{Class}             & Calculated From Results    & Binary        \\ \hline
    \end{tabular}

    \caption
        [Dataset 001]
        {Dataset 001}

    \label{tab:dat_001}
\end{table}

\subsection{\texttt{DAT\_002} - Number of Courses and Logs}
\label{sec:dat_002}

This dataset only contains features which a number type. Each object is
calculated from the records of a single student and relates the number of
enrolled courses, number of approved courses, number of each CRUD activity and
overall number of activities. The records come from the \texttt{Results} and
\texttt{MoodleLogs} datasets. Table~\ref{tab:dat_002} shows the features of
this dataset.

\begin{table}[h!]
    \centering

    \begin{tabular}{| l | l | l |}
        \hline
        \textbf{Field}           & \textbf{Source Dataset}    & \textbf{Type} \\ \hline
        \texttt{EnrolledCourses} & Calculated From Results    & Number        \\ \hline
        \texttt{ApprovedCourses} & Calculated From Results    & Number        \\ \hline
        \texttt{ActSumAll}       & Calculated From MoodleLogs & Number        \\ \hline
        \texttt{ActSumC}         & Calculated From MoodleLogs & Number        \\ \hline
        \texttt{ActSumR}         & Calculated From MoodleLogs & Number        \\ \hline
        \texttt{ActSumU}         & Calculated From MoodleLogs & Number        \\ \hline
        \texttt{ActSumD}         & Calculated From MoodleLogs & Number        \\ \hline
    \end{tabular}

    \caption
        [Dataset 002]
        {Dataset 002}

    \label{tab:dat_002}
\end{table}

\subsection{\texttt{DAT\_003} - Student/Course Profile and Results}
\label{sec:dat_003}

In this dataset we relate the profiling of a student in a courses and his
results on that course. To begin constructing this dataset we use the Profiling
dataset, as shown in section~\ref{sec:data_profiling}.

The Profiling dataset contains a results field, however, the meaning of each
value in this field is unknown. So initially, this field is dropped. To get the
actual results of students we need the Results dataset.

Each object of Profile contains the features \texttt{CourseCodeMoodle},
\texttt{CourseId}, and \texttt{StudentsId}. But the Results dataset has
\texttt{CourseCodeSiiue} and \texttt{StudentsNumber}. In order to relate both,
the Students dataset and the CoursesGeneral dataset are needed.

These datasets are related and some fields are dropped in order to produce a
dataset with the features listed in table~\ref{tab:dat_003}.

Like in dataset~\ref{sec:dat_001}, the class of this dataset may be binary, in
which the student is approved or not, or divided in groups of 2 or 4.

\begin{table}[h!]
    \centering

    \begin{tabular}{| l | l | l |}
        \hline
        \textbf{Field}               & \textbf{Source Dataset} & \textbf{Type} \\ \hline
        \texttt{CourseCodeSiiue}     & CoursesGeneral          & String        \\ \hline
        \texttt{NumberOfResources}   & Profile                 & Number        \\ \hline
        \texttt{NumberOfActivities}  & Profile                 & Number        \\ \hline
        \texttt{NumberOfViews}       & Profile                 & Number        \\ \hline
        \texttt{NumberOfSubmissions} & Profile                 & Number        \\ \hline
        \texttt{Class}               & Results                 & Binary        \\ \hline
    \end{tabular}

    \caption
        [Dataset 003]
        {Dataset 003}

    \label{tab:dat_003}
\end{table}

% =============================================================================
\section{Experiments}

This section gives a very brief overview of the experiments run for this
project. The actual explanation and interpretation of them is written in the
thesis text.

\subsection{\texttt{EXP\_001} - Predicting Students Grades Based on Moodle
Usage}

Experiment uses \texttt{DAT\_001}, described in section~\ref{sec:dat_001}.

\begin{verbatim}
Tree Binary and Bayesian Binary
Conclusion: More activity -> approved

Tree 4 and Bayesian 4
Conclusion: More activity -> approved
Conclusion: More number of CRUD -> better grade
Conclusion: More updates -> better grades

Tree 2 and Bayesian 2
Conclusion: More activity -> approved
Conclusion: More number of CRUD -> better grade
Conclusion: More updates -> better grades
\end{verbatim}

\subsection{\texttt{EXP\_002} - Clustering Moodle Usage Data}

Experiment uses \texttt{DAT\_001}, described in section~\ref{sec:dat_001}.

This experiment isn't correct because there are nominal fields. Clustering may
be used in nominal fields, but the algorithms used in there may not.

\subsection{\texttt{EXP\_003} - Predicting Number of Approved Courses Based on
Moodle Usage}

Experiment uses \texttt{DAT\_002}, described in section~\ref{sec:dat_002}.

\begin{verbatim}
Tree and Bayesian with original, 2, 4, or 6
Conclusion: Based on the activity and number of enrolled courses we can
predict the number of approved courses with great accuracy!
\end{verbatim}

\subsection{\texttt{EXP\_004} - Clustering Number of Approved Courses Based on
Moodle Usage}

Experiment uses \texttt{DAT\_002}, described in section~\ref{sec:dat_002}.

\begin{verbatim}
Results are similar to EXP_002
\end{verbatim}

\subsection{\texttt{EXP\_005} - Predicting Students Grades From Student/Course
Profiling}

Experiment uses \texttt{DAT\_003}, described in section~\ref{sec:dat_003}.

\begin{verbatim}
Results are similar to EXP_001, but performs worse. Meaning that looking into
Moodle usage data produces more accurate results then course profiling.
\end{verbatim}
